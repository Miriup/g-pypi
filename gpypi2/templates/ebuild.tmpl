# Copyright 1999-{{ year }} Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: $
# Ebuild generated by g-pypi {{ gpypi_version }}

{% if warnings -%}
    {% for warn in warnings %}
    # Warning: {{ warn }}
    {% endfor %}
{%- endif %}

EAPI="3"
SUPPORT_PYTHON_ABIS="1"
{% if tests_method %}
DISTUTILS_SRC_TEST="{{ tests_method }}"
{% endif %}

inherit {{ inherit|join(" ") }}

{% if not esvn_repo_uri -%}
{% if my_pn %}MY_PN="{{ my_pn }}"{% endif %}
{% if my_pv %}MY_PV="{{ my_pv }}"{% endif %}
{% if my_p %}MY_P="{{ my_p }}"{% endif %}
{%- endif %}

DESCRIPTION="{{ description }}"
HOMEPAGE="{{ homepage|join(" ") }}"
{% if esvn_repo_uri %}
ESVN_REPO_URI="{{ esvn_repo_uri }}"
{% else %}
SRC_URI="{{ src_uri|join(" ") }}"
{% endif %}
LICENSE="{{ license }}"
KEYWORDS="{{ keywords }}"
SLOT="{{ slot }}"
IUSE="{{ use|join(" ") }}"

{% if depend %}
DEPEND="{{ depend|join("\t\n") }}"
{% endif %}
{% if depend and depend == rdepend %}
DEPEND="${RDEPEND}"
{% elif rdepend %}
RDEPEND="{{ rdepend|join("\t\n") }}"
{% endif %}

{% if s %}
S="{{ s }}"
{% endif %}
{% if python_modname %}
PYTHON_MODNAME="{{ python_modname|join(" ") }}"
{% endif %}

{% if src_unpack %}
src_unpack() {
{{ src_unpack }}
}

{% endif %}
{% if src_compile %}
src_compile() {
{{ src_compile }}
}

{% endif %}
{% if src_install %}
src_install() {
    distutils_src_install
    {% if 'docs' in use %}
    if use doc; then
        dodoc "${S}"/{{ docs_dir }}/*\n'
    fi
    {% endif %}
    {% if 'examples' in use %}
    if use examples; then
        insinto /usr/share/doc/"${PF}"/examples
        doins -r "${S}"/{{ examples_dir }}/*\n'
    fi
    {% endif %}
}

{% endif %}
{% if src_test %}
src_test() {
}

{% endif %}
